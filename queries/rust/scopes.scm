;; ═════════════════════════════════════════════════════════════════
;; Rust Scope Node Queries
;; ═════════════════════════════════════════════════════════════════
;; These patterns identify nodes that create new lexical scopes.
;; Used for building the scope hierarchy in the BindingGraph.

;; ───────────────────────────────────────────────────────────────────
;; Functions
;; ───────────────────────────────────────────────────────────────────
(function_item) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Closures
;; ───────────────────────────────────────────────────────────────────
(closure_expression) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Impl blocks
;; ───────────────────────────────────────────────────────────────────
(impl_item) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Trait definitions
;; ───────────────────────────────────────────────────────────────────
(trait_item) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Modules
;; ───────────────────────────────────────────────────────────────────
(mod_item) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Block expressions (explicit scope)
;; ───────────────────────────────────────────────────────────────────
(block) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Loops
;; ───────────────────────────────────────────────────────────────────
(for_expression) @scope_node
(while_expression) @scope_node
(loop_expression) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Conditionals and match
;; ───────────────────────────────────────────────────────────────────
(if_expression) @scope_node
(match_expression) @scope_node
(match_arm) @scope_node

;; ───────────────────────────────────────────────────────────────────
;; Special blocks
;; ───────────────────────────────────────────────────────────────────
(unsafe_block) @scope_node
(async_block) @scope_node
(const_block) @scope_node
