;; ═════════════════════════════════════════════════════════════════════════
;; Lua Scope Node Queries
;; ═════════════════════════════════════════════════════════════════════════
;;
;; These patterns identify nodes that create new lexical scopes.
;; Used for building the scope hierarchy in the BindingGraph.

;; ───────────────────────────────────────────────────────────────────────────
;; Functions
;; ───────────────────────────────────────────────────────────────────────────
(function_declaration) @scope_node
(function_definition) @scope_node

;; ───────────────────────────────────────────────────────────────────────────
;; Blocks
;; ───────────────────────────────────────────────────────────────────────────
(do_statement) @scope_node

;; ───────────────────────────────────────────────────────────────────────────
;; Loops (includes both numeric for and for-in)
;; ───────────────────────────────────────────────────────────────────────────
(while_statement) @scope_node
(repeat_statement) @scope_node
(for_statement) @scope_node

;; ───────────────────────────────────────────────────────────────────────────
;; Conditionals
;; ───────────────────────────────────────────────────────────────────────────
(if_statement) @scope_node
